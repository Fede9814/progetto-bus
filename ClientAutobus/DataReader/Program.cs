using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using DataReader.Sensors;

namespace DataReader
{
    class Program
    {
        static void Main(string[] args)
        {
            int token = 0;
            double[,] array = new double[,]
            {
              {
                12.664361000061035,
                45.964276769318396
              },
              {
                12.664532661437988,
                45.9646347370997
              },
              {
                12.66474723815918,
                45.96502253291924
              },
              {
                12.664961814880371,
                45.96538049588165
              },
              {
                12.665176391601562,
                45.965708626565245
              },
              {
                12.66547679901123,
                45.96600692550006
              },
              {
                12.665820121765137,
                45.96624556349142
              },
              {
                12.666034698486328,
                45.966484200454694
              },
              {
                12.666335105895996,
                45.96672283638996
              },
              {
                12.666635513305662,
                45.96699130058835
              },
              {
                12.66697883605957,
                45.96722993433906
              },
              {
                12.667279243469238,
                45.967528225081786
              },
              {
                12.667665481567383,
                45.96776685651942
              },
              {
                12.66796588897705,
                45.96797565818409
              },
              {
                12.668309211730957,
                45.968214287694174
              },
              {
                12.668609619140625,
                45.9683932591521
              },
              {
                12.669124603271484,
                45.968542401591975
              },
              {
                12.669553756713865,
                45.9686020584555
              },
              {
                12.66972541809082,
                45.96875120033315
              },
              {
                12.669510841369627,
                45.96895999828726
              },
              {
                12.669210433959961,
                45.96925827971351
              },
              {
                12.668867111206055,
                45.96961621530467
              },
              {
                12.668609619140625,
                45.96991449319707
              },
              {
                12.66822338104248,
                45.97027242454766
              },
              {
                12.66796588897705,
                45.97057069890621
              },
              {
                12.667665481567383,
                45.97089879884535
              },
              {
                12.667450904846191,
                45.97066018090054
              },
              {
                12.667193412780762,
                45.970391734483826
              },
              {
                12.667021751403809,
                45.97009345916149
              },
              {
                12.66697883605957,
                45.96970569884106
              },
              {
                12.667193412780762,
                45.96934776382815
              },
              {
                12.667622566223143,
                45.96901965470103
              },
              {
                12.667922973632812,
                45.968781028660516
              },
              {
                12.668266296386719,
                45.968542401591975
              },
              {
                12.668695449829102,
                45.96806514437082
              },
              {
                12.669210433959961,
                45.96767736985077
              },
              {
                12.669682502746582,
                45.9672597634856
              },
              {
                12.670197486877441,
                45.966812324600646
              },
              {
                12.6707124710083,
                45.96642454131025
              },
              {
                12.671141624450684,
                45.96597709567888
              },
              {
                12.671656608581543,
                45.96558930654153
              },
              {
                12.672042846679688,
                45.965291005357905
              },
              {
                12.672300338745117,
                45.96499270256795
              },
              {
                12.671957015991211,
                45.96481372012296
              },
              {
                12.671356201171875,
                45.96457507596347
              },
              {
                12.670798301696777,
                45.964336430775916
              },
              {
                12.670326232910156,
                45.96394863015356
              },
              {
                12.66972541809082,
                45.963471333353276
              },
              {
                12.669167518615723,
                45.96305369527979
              },
              {
                12.668523788452147,
                45.96260622242165
              },
              {
                12.667837142944336,
                45.961949922358706
              },
              {
                12.667279243469238,
                45.96153227281622
              },
              {
                12.666678428649902,
                45.96102512271058
              },
              {
                12.666206359863281,
                45.960577633468134
              },
              {
                12.665777206420898,
                45.96021963947196
              },
              {
                12.665348052978516,
                45.95974231054558
              },
              {
                12.664790153503418,
                45.959473811217414
              },
              {
                12.664361000061035,
                45.95941414452335
              },
              {
                12.664060592651367,
                45.95953347784722
              },
              {
                12.664017677307129,
                45.95980197688627
              },
              {
                12.663888931274414,
                45.96007047462422
              },
              {
                12.663631439208983,
                45.96039863675917
              },
              {
                12.663331031799316,
                45.960696964286164
              },
              {
                12.662858963012695,
                45.96102512271058
              },
              {
                12.662215232849121,
                45.96132344686433
              },
              {
                12.661657333374022,
                45.96144277607607
              },
              {
                12.661271095275879,
                45.961591937229315
              },
              {
                12.660927772521973,
                45.96174109798101
              },
              {
                12.660541534423828,
                45.96168143372852
              },
              {
                12.660069465637207,
                45.96177093008316
              },
              {
                12.659339904785156,
                45.96186042629322
              },
              {
                12.658524513244629,
                45.96200958632205
              },
              {
                12.657837867736815,
                45.9620990821466
              },
              {
                12.657194137573242,
                45.962248241532926
              },
              {
                12.656378746032715,
                45.96239740051766
              },
              {
                12.655649185180664,
                45.96251672741631
              },
              {
                12.65526294708252,
                45.96260622242165
              },
              {
                12.654533386230469,
                45.962785211998614
              },
              {
                12.654061317443848,
                45.96281504353854
              },
              {
                12.65324592590332,
                45.96302386386836
              },
              {
                12.652473449707031,
                45.963202852096025
              },
              {
                12.651786804199219,
                45.96332217725989
              },
              {
                12.650928497314451,
                45.96350116452375
              },
              {
                12.650327682495117,
                45.96368015120938
              },
              {
                12.64951229095459,
                45.96382930633901
              },
              {
                12.6487398147583,
                45.96397846106704
              },
              {
                12.647924423217773,
                45.96418727701167
              },
              {
                12.646937370300293,
                45.964336430775916
              },
              {
                12.643547058105469,
                45.965141854163726
              }
            };
            // init sensors
            List<ISensor> sensors = new List<ISensor>
            {
                new VirtualCoordinateSensor()
            };

            

            while (true)
            {
                foreach (ISensor sensor in sensors)
                {
                    // get current sensor value
                    var data = sensor.ToJson(token, array);
                    Console.WriteLine(data);

                    // wait 5 second
                    System.Threading.Thread.Sleep(3000);
                    token++;
                }
            }
        }
    }
}